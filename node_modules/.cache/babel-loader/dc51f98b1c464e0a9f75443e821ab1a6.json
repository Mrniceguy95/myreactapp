{"ast":null,"code":"var _jsxFileName = \"/home/guido/Documents/GitHub/myreactapp/src/components/formComponents/appFormComponent.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport Moment from 'moment';\nimport momentLocalizer from 'react-widgets-moment';\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\nimport moment from 'moment';\nimport Combobox from 'react-widgets/lib/Combobox';\nimport PopUpComponent from '../popUpComponent/popUp';\nimport Popup from \"reactjs-popup\";\n\nrequire(\"moment/min/locales.min\");\n\nMoment.locale('es');\nmomentLocalizer();\nlet cities = ['Ambato', 'Archidona', 'Atacames', 'Babahoyo', 'Baños', 'Coca', 'Cuenca', 'Durán', 'Esmeraldas', 'Guayaquil', 'Ibarra', 'Lago Agrio', 'Latacunga', 'Loja', 'Macas', 'Machala', 'Manabí', 'Manta', 'Nueva Loja', 'Otavalo', 'Portoviejo', 'Puyo', 'Quijos', 'Quito', 'Riobamba', 'Santa Elana', 'Santo Domingo', 'Shushufindi', 'Tena', 'Zamora'];\n\nclass AppForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleName = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handleRide = event => {\n      this.setState({\n        ride: event.target.value\n      });\n    };\n\n    this.handleDestination = event => {\n      this.setState({\n        destination: event.target.value\n      });\n    };\n\n    this.handleWhatsapp = event => {\n      this.setState({\n        whatsapp: event.target.value\n      });\n    };\n\n    this.handleFacebook = event => {\n      this.setState({\n        facebook: event.target.value\n      });\n    };\n\n    this.handleSeats = event => {\n      this.setState({\n        seats: event.target.value\n      });\n    };\n\n    this.handlePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleDescription = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      const date = moment(this.state.date).format('MMM D YYYY HH:mm').split('.').join(\"\");\n      var dateString = date.charAt(0).toUpperCase() + date.slice(1);\n\n      if (dateString.length == 16) {\n        dateString = dateString.slice(0, 4) + \"0\" + dateString.slice(4);\n      } else {}\n\n      const rideType = this.state.ride;\n      var urlpost = \"\";\n      const submitData = {\n        name: this.state.name,\n        origin: this.state.origin,\n        destination: this.state.destination,\n        whatsapp: this.state.whatsapp,\n        facebook: this.state.facebook,\n        seats: this.state.seats,\n        password: this.state.password,\n        date: dateString,\n        description: this.state.description\n      };\n\n      if (rideType === \"Conductor\") {\n        urlpost = \"https://zealous-snyder-fe1913.netlify.com/.netlify/functions/index/conductores\";\n      } else if (rideType === \"Pasajero\") {\n        urlpost = \"https://zealous-snyder-fe1913.netlify.com/.netlify/functions/index/pasajeros\";\n      } else {\n        console.log(this.state.displayPopUp);\n        event.preventDefault();\n        this.setState({\n          shouldUpdate: false,\n          displayPopUp: true,\n          popUpMsg: 'Seleccione su rol en el viaje (Conductor o Pasajero)'\n        });\n        return;\n      }\n\n      event.preventDefault();\n      axios.post(urlpost, submitData).then(res => {\n        if (res.data === 'ok') {\n          this.setState({\n            shouldUpdate: true,\n            displayPopUp: true,\n            popUpMsg: 'Su post ha sido enviado con exito'\n          });\n          console.log('right');\n        } else {\n          this.setState({\n            shouldUpdate: false,\n            displayPopUp: true,\n            popUpMsg: 'Por favor llene todos los datos y verifique que sean correctos'\n          });\n          console.log('wrong');\n        }\n      });\n    };\n\n    this.state = {\n      name: '',\n      ride: '',\n      origin: '',\n      destination: '',\n      whatsapp: '',\n      facebook: '',\n      seats: '',\n      password: '',\n      date: new Date(),\n      description: '',\n      displayPopUp: false,\n      popUpMsg: '',\n      shouldUpdate: false,\n      openOrigin: false,\n      openDestination: false\n    };\n    this.handlePopUp = this.handlePopUp.bind(this);\n    this.handleOriginToggle = this.handleOriginToggle.bind(this);\n    this.handleDestinationToggle = this.handleDestinationToggle.bind(this);\n    this.resetForm = this.resetForm.bind(this);\n  }\n\n  handlePopUp() {\n    console.log(this.state.displayPopUp);\n    this.setState({\n      displayPopUp: false\n    });\n    console.log(this.state.displayPopUp);\n  }\n\n  handleOriginToggle() {\n    this.setState({\n      openOrigin: !this.state.openOrigin\n    });\n  }\n\n  handleDestinationToggle() {\n    this.setState({\n      openDestination: !this.state.openDestination\n    });\n  }\n\n  resetForm() {\n    this.setState({\n      name: '',\n      ride: '',\n      origin: '',\n      destination: '',\n      whatsapp: '',\n      facebook: '',\n      password: '',\n      seats: '',\n      date: new Date(),\n      description: ''\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"contact-form\",\n      id: \"posts-form\",\n      noValidate: \"novalidate\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(PopUpComponent, {\n      update: this.resetForm,\n      postreset: this.props.postreset,\n      handler: this.handlePopUp,\n      display: this.state.displayPopUp,\n      popUpMsg: this.state.popUpMsg,\n      shouldUpdate: this.state.shouldUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"sb-input\",\n      placeholder: \"Nombre Completo\",\n      id: \"name\",\n      value: this.state.name,\n      onChange: this.handleName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      id: \"ride-type\",\n      className: \"sb-input2\",\n      size: \"1\",\n      value: this.state.ride,\n      onChange: this.handleRide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"tipo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Yo soy\"), React.createElement(\"option\", {\n      value: \"Conductor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Conductor\"), React.createElement(\"option\", {\n      value: \"Pasajero\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Pasajero\")), React.createElement(\"div\", {\n      className: \"travelselect\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Combobox, {\n      data: cities,\n      open: this.state.openOrigin,\n      onToggle: this.handleOriginToggle,\n      onClick: this.handleOriginToggle,\n      value: this.state.origin,\n      onChange: value => this.setState({\n        origin: value\n      }),\n      caseSensitive: false,\n      minLength: 10,\n      placeholder: \"Origen\",\n      filter: \"contains\",\n      containerClassName: \"sb-input select-input\",\n      id: \"origin-form\",\n      dropUp: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(Combobox, {\n      data: cities,\n      dropUp: true,\n      open: this.state.openDestination,\n      onToggle: this.handleDestinationToggle,\n      onClick: this.handleDestinationToggle,\n      value: this.state.destination,\n      onChange: value => this.setState({\n        destination: value\n      }),\n      caseSensitive: false,\n      minLength: 3,\n      placeholder: \"Destino\",\n      filter: \"contains\",\n      containerClassName: \"sb-input select-input\",\n      id: \"destination-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(Popup, {\n      trigger: React.createElement(\"input\", {\n        className: \"sb-input\",\n        type: \"tel\",\n        placeholder: \"Whatsapp\",\n        id: \"whatsapp\",\n        value: this.state.whatsapp,\n        onChange: this.handleWhatsapp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }),\n      position: \"top center\",\n      on: \"hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content tootltip-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Introduce tu n\\xFAmero de whatsapp en el siguiente formato eg: 0996405212\"))), React.createElement(Popup, {\n      trigger: React.createElement(\"input\", {\n        className: \"sb-input\",\n        id: \"fb\",\n        placeholder: \"Link de Facebook\",\n        value: this.state.facebook,\n        onChange: this.handleFacebook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }),\n      position: \"top center\",\n      on: \"hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content tootltip-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Verifica que el link sea correcto eg: https://www.facebook.com/julio.iglesias\"))), React.createElement(\"div\", {\n      className: \"centerdate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(Popup, {\n      trigger: React.createElement(\"input\", {\n        className: \"sb-input\",\n        id: \"password\",\n        type: \"text\",\n        placeholder: \"Clave\",\n        value: this.state.password,\n        onChange: this.handlePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }),\n      position: \"top right\",\n      on: \"hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content tootltip-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Esta clave te servir\\xE1 si deseas eliminar tu post, por favor gu\\xE1rdala.\"))), React.createElement(\"input\", {\n      className: \"sb-input\",\n      placeholder: \"Asientos\",\n      id: \"seats\",\n      value: this.state.seats,\n      onChange: this.handleSeats,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    })), React.createElement(DateTimePicker, {\n      className: \"datetime\",\n      dropUp: true,\n      value: this.state.date,\n      onChange: value => this.setState({\n        date: value\n      }),\n      format: \"MMM D YYYY HH:mm\",\n      min: new Date(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      className: \"sb-input\",\n      placeholder: \"Mensaje...\",\n      id: \"description\",\n      value: this.state.description,\n      onChange: this.handleDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"btn1\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      value: \"Agregar Viaje\",\n      type: \"submit\",\n      id: \"submit1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Agregar Viaje\"), React.createElement(\"a\", {\n      id: \"handleForm2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Ocultar\")));\n  }\n\n}\n\nexport default AppForm;","map":{"version":3,"sources":["/home/guido/Documents/GitHub/myreactapp/src/components/formComponents/appFormComponent.js"],"names":["React","Component","axios","Moment","momentLocalizer","DateTimePicker","moment","Combobox","PopUpComponent","Popup","require","locale","cities","AppForm","constructor","props","handleName","event","setState","name","target","value","handleRide","ride","handleDestination","destination","handleWhatsapp","whatsapp","handleFacebook","facebook","handleSeats","seats","handlePassword","password","handleDescription","description","handleSubmit","date","state","format","split","join","dateString","charAt","toUpperCase","slice","length","rideType","urlpost","submitData","origin","console","log","displayPopUp","preventDefault","shouldUpdate","popUpMsg","post","then","res","data","Date","openOrigin","openDestination","handlePopUp","bind","handleOriginToggle","handleDestinationToggle","resetForm","render","postreset","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport Moment from 'moment'\nimport momentLocalizer from 'react-widgets-moment';\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\nimport moment from 'moment';\nimport Combobox from 'react-widgets/lib/Combobox'\nimport PopUpComponent from '../popUpComponent/popUp'\nimport Popup from \"reactjs-popup\";\nrequire(\"moment/min/locales.min\");\n\nMoment.locale('es')\nmomentLocalizer()\n\nlet cities = ['Ambato', 'Archidona', 'Atacames', 'Babahoyo', 'Baños', 'Coca', 'Cuenca', 'Durán', 'Esmeraldas', 'Guayaquil', 'Ibarra', 'Lago Agrio', 'Latacunga', 'Loja', 'Macas', 'Machala', 'Manabí', 'Manta', 'Nueva Loja', 'Otavalo', 'Portoviejo', 'Puyo', 'Quijos', 'Quito', 'Riobamba', 'Santa Elana', 'Santo Domingo', 'Shushufindi', 'Tena', 'Zamora'];\n\nclass AppForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            ride: '',\n            origin: '',\n            destination: '',\n            whatsapp: '',\n            facebook: '',\n            seats: '',\n            password: '',\n            date: new Date(),\n            description: '',\n            displayPopUp: false,\n            popUpMsg: '',\n            shouldUpdate: false,\n            openOrigin: false,\n            openDestination: false\n        }\n        this.handlePopUp = this.handlePopUp.bind(this)\n        this.handleOriginToggle = this.handleOriginToggle.bind(this)\n        this.handleDestinationToggle = this.handleDestinationToggle.bind(this)\n        this.resetForm = this.resetForm.bind(this)\n    }\n\n    handleName = (event) => {\n        this.setState({ name: event.target.value})\n    }\n    handleRide = (event) => {\n        this.setState({ ride: event.target.value})\n    }\n    handleDestination = (event) => {\n        this.setState({ destination: event.target.value})\n    }\n    handleWhatsapp = (event) => {\n        this.setState({ whatsapp: event.target.value})\n    }\n    handleFacebook = (event) => {\n        this.setState({ facebook: event.target.value})\n    }\n    handleSeats = (event) => {\n        this.setState({ seats: event.target.value})\n    }\n    handlePassword = (event) => {\n        this.setState({ password: event.target.value})\n    }\n    handleDescription = (event) => {\n        this.setState({ description: event.target.value})\n    }\n    handleSubmit = (event) => {\n        const date = moment(this.state.date).format('MMM D YYYY HH:mm').split('.').join(\"\");\n        var dateString = date.charAt(0).toUpperCase() + date.slice(1);\n        if ( dateString.length == 16 ) {\n            dateString = dateString.slice(0,4) + \"0\" + dateString.slice(4);\n        } else {}\n        const rideType = this.state.ride;\n        var urlpost = \"\";\n        const submitData = {\n            name : this.state.name,\n            origin: this.state.origin,\n            destination: this.state.destination,\n            whatsapp: this.state.whatsapp,\n            facebook: this.state.facebook,\n            seats: this.state.seats,\n            password: this.state.password,\n            date: dateString,\n            description: this.state.description\n            \n        }\n        \n        if ( rideType === \"Conductor\" ) {\n            urlpost=\"https://zealous-snyder-fe1913.netlify.com/.netlify/functions/index/conductores\"\n        } else if ( rideType === \"Pasajero\" ) {\n            urlpost=\"https://zealous-snyder-fe1913.netlify.com/.netlify/functions/index/pasajeros\"\n        } else {\n            console.log(this.state.displayPopUp)\n            event.preventDefault();\n            this.setState({\n                shouldUpdate: false,\n                displayPopUp: true,\n                popUpMsg: 'Seleccione su rol en el viaje (Conductor o Pasajero)',\n            })\n            return\n            \n        }\n        event.preventDefault();\n        axios.post(urlpost, submitData)\n            .then(res => {\n                if (res.data === 'ok') {\n                    this.setState({\n                        shouldUpdate: true,\n                        displayPopUp: true,\n                        popUpMsg: 'Su post ha sido enviado con exito',\n                    })\n                    console.log('right')\n                } else {\n                    this.setState({\n                        shouldUpdate: false,\n                        displayPopUp: true,\n                        popUpMsg: 'Por favor llene todos los datos y verifique que sean correctos',\n                    })\n                    \n                    console.log('wrong')\n                }\n            })   \n    }\n\n    handlePopUp() {\n        console.log(this.state.displayPopUp)\n        this.setState({\n            displayPopUp: false\n        })\n        console.log(this.state.displayPopUp)\n    }\n\n    handleOriginToggle() {\n        this.setState({openOrigin: !this.state.openOrigin})\n    }\n\n    handleDestinationToggle() {\n        this.setState({openDestination: !this.state.openDestination})\n    }\n\n    resetForm() {\n        this.setState({\n            name: '',\n            ride: '',\n            origin: '',\n            destination: '',\n            whatsapp: '',\n            facebook: '',\n            password: '',\n            seats: '',\n            date: new Date(),\n            description: ''\n        })\n    }\n\n    render() {\n        \n        return (\n            <form className=\"contact-form\" id=\"posts-form\" noValidate=\"novalidate\" onSubmit={this.handleSubmit}>\n                <PopUpComponent \n                update={this.resetForm} postreset={this.props.postreset} handler={this.handlePopUp} display={this.state.displayPopUp} popUpMsg={this.state.popUpMsg}\n                shouldUpdate={this.state.shouldUpdate}\n                />\n                <input className=\"sb-input\" placeholder=\"Nombre Completo\" id=\"name\" \n                    value={this.state.name} onChange={this.handleName}\n                />\n\n                <select id=\"ride-type\" className=\"sb-input2\" size=\"1\"\n                    value={this.state.ride} onChange={this.handleRide}\n                >\n                    <option value=\"tipo\">Yo soy</option>\n                    <option value=\"Conductor\">Conductor</option>\n                    <option value=\"Pasajero\">Pasajero</option>\n                </select>\n\n                <div className=\"travelselect\">\n\n                <Combobox \n                    data={cities}\n                    open={this.state.openOrigin}\n                    onToggle={this.handleOriginToggle}\n                    onClick= {this.handleOriginToggle}\n                    value= {this.state.origin}\n                    onChange={value => this.setState({origin: value})}\n                    caseSensitive={false}\n                    minLength={10}\n                    placeholder='Origen'\n                    filter='contains'\n                    containerClassName='sb-input select-input'  \n                    id='origin-form'\n                    dropUp\n                />\n\n                <Combobox \n                    data={cities}\n                    dropUp\n                    open={this.state.openDestination}\n                    onToggle={this.handleDestinationToggle}\n                    onClick= {this.handleDestinationToggle}\n                    value= {this.state.destination}\n                    onChange={value => this.setState({destination: value})}\n                    caseSensitive={false}\n                    minLength={3}\n                    placeholder='Destino'\n                    filter='contains'\n                    containerClassName='sb-input select-input'  \n                    id='destination-form'\n                />\n                      \n                </div>\n                <Popup\n                    trigger={<input className=\"sb-input\" type=\"tel\" placeholder=\"Whatsapp\" id=\"whatsapp\"\n                    value={this.state.whatsapp} onChange={this.handleWhatsapp}\n                    /> }\n                    position=\"top center\"\n                    on=\"hover\"\n                    >\n                    <div className=\"card\">\n                        <div className=\"content tootltip-content\">\n                            Introduce tu número de whatsapp en el siguiente formato eg: 0996405212\n                        </div>\n                    </div>\n                </Popup>\n                \n                <Popup\n                    trigger={<input className=\"sb-input\" id=\"fb\" placeholder=\"Link de Facebook\"\n                    value={this.state.facebook} onChange={this.handleFacebook}\n                    /> }\n                    position=\"top center\"\n                    on=\"hover\"\n                    >\n                    <div className=\"card\">\n                        <div className=\"content tootltip-content\">\n                            Verifica que el link sea correcto eg: https://www.facebook.com/julio.iglesias\n                        </div>\n                    </div>\n                </Popup>        \n                                   \n                             \n                                \n                <div className=\"centerdate\">                \n                <Popup\n                    trigger={<input className=\"sb-input\" id=\"password\" type=\"text\" placeholder=\"Clave\"\n                    value={this.state.password} onChange={this.handlePassword}\n                    />}\n                    position=\"top right\"\n                    on=\"hover\"\n                    >\n                    <div className=\"card\">\n                        <div className=\"content tootltip-content\">\n                            Esta clave te servirá si deseas eliminar tu post, por favor guárdala.\n                        </div>\n                    </div>\n                </Popup>   \n                <input className=\"sb-input\"  placeholder=\"Asientos\" id=\"seats\"\n                    value={this.state.seats} onChange={this.handleSeats}\n                />\n                </div>  \n                <DateTimePicker\n                    className=\"datetime\"\n                    dropUp\n                    value={this.state.date}\n                    onChange={value => this.setState({ date: value })}\n                    format='MMM D YYYY HH:mm'\n                    min={new Date()}\n                />                   \n                <textarea className=\"sb-input\" placeholder=\"Mensaje...\" id=\"description\"\n                    value={this.state.description} onChange={this.handleDescription}\n                    >\n                </textarea>\n                <div className=\"btn1\" style={{textAlign: 'center'}} >\n                    <button value=\"Agregar Viaje\" type=\"submit\" id=\"submit1\">Agregar Viaje</button>\n                    <a id=\"handleForm2\">Ocultar</a>\n                </div>\n            </form>\n        )\n    }\n\n}\n\nexport default AppForm;\n\n"]},"metadata":{},"sourceType":"module"}